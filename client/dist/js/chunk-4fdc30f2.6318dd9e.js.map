{"version":3,"sources":["webpack:///./src/components/Share.vue?27de","webpack:///src/components/Share.vue","webpack:///./src/components/Share.vue?c178","webpack:///./src/components/Share.vue","webpack:///./src/components/Share.vue?eab2"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","id","recipe","staticClass","importedRecipeID","name","_v","to","path","on","click","$event","addToMyRecipes","directives","rawName","value","expression","_e","_s","title","href","url","target","domProps","innerHTML","description","src","getRecipeImage","staticRenderFns","Sharevue_type_script_lang_js_","components","Icon","Icons","data","errorMessage","computed","methods","retrieveRecipe","_retrieveRecipe","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","recipeID","response","wrap","_context","prev","next","encodeURIComponent","$route","params","RecipeService","retrieveSharedRecipe","sent","console","log","stop","apply","arguments","image","_addToMyRecipes","_callee2","_context2","addSharedRecipe","error","abrupt","created","beforeCreate","document","body","className","components_Sharevue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Share_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Share_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-4fdc30f2.6318dd9e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"share\"}},[_c('div',{attrs:{\"id\":\"share-container\"}},[(_vm.recipe._id)?_c('div',{staticClass:\"actions\"},[(!_vm.importedRecipeID)?_c('div',{staticClass:\"add\",on:{\"click\":function($event){return _vm.addToMyRecipes()}}},[_vm._v(\"Add To My Recipes\")]):_c('div',{staticClass:\"added-block\"},[_c('icon',{attrs:{\"name\":\"checkCircle\"}}),_c('span',{staticClass:\"recipe-added\"},[_vm._v(\"Recipe added to your collection!\")]),_c('router-link',{staticClass:\"recipe-added-link\",attrs:{\"to\":{ path: (\"/recipes/all?id=\" + _vm.importedRecipeID) }}},[_vm._v(\"Go to recipe\")])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errorMessage),expression:\"errorMessage\"}],staticClass:\"error-message\"},[_c('icon',{attrs:{\"name\":\"info\"}}),_c('router-link',{staticClass:\"error-message-text\",attrs:{\"to\":{ path: '/login' }}},[_vm._v(\"\\n          Please login to save this recipe\\n        \")])],1)]):_vm._e(),_c('div',{staticClass:\"panel\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.recipe.title))]),_c('div',{staticClass:\"url\"},[_c('a',{attrs:{\"href\":_vm.recipe.url,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.recipe.url))])]),_c('div',{staticClass:\"description\",domProps:{\"innerHTML\":_vm._s(_vm.recipe.description)}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.recipe.image),expression:\"recipe.image\"}],staticClass:\"image\",attrs:{\"src\":_vm.getRecipeImage()}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"share\">\n    <div id=\"share-container\">\n\n      <div v-if=\"recipe._id\" class=\"actions\">\n        <div v-if=\"!importedRecipeID\" @click=\"addToMyRecipes()\" class=\"add\">Add To My Recipes</div>\n        <div v-else class=\"added-block\">\n          <icon name=\"checkCircle\"/>\n          <span class=\"recipe-added\">Recipe added to your collection!</span>\n          <router-link class=\"recipe-added-link\" :to=\"{ path: `/recipes/all?id=${importedRecipeID}` }\">Go to recipe</router-link>\n        </div>\n        <div v-show=\"errorMessage\" class=\"error-message\">\n          <icon name=\"info\"/>\n          <router-link class=\"error-message-text\" :to=\"{ path: '/login' }\">\n            Please login to save this recipe\n          </router-link>\n        </div>\n      </div>\n\n      <div class=\"panel\">\n\n        <div class=\"title\">{{ recipe.title }}</div>\n\n        <div class=\"url\">\n          <a :href=\"recipe.url\" target=\"_blank\">{{ recipe.url }}</a>\n        </div>\n        \n        <div class=\"description\" v-html=\"recipe.description\"></div>\n\n        <img v-show=\"recipe.image\" class=\"image\" :src=\"getRecipeImage()\">\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Icon from '@/components/Icons';\nimport RecipeService from '@/services/RecipeService';\n\nexport default {\n  components: {\n    Icon\n  },\n  data() {\n    return {\n      recipe: {},\n      errorMessage: null,\n      importedRecipeID: null,\n    };\n  },\n  computed: {\n  },\n  methods: {\n    async retrieveRecipe() {\n      const recipeID = encodeURIComponent(this.$route.params.recipe);\n      const response = await RecipeService.retrieveSharedRecipe(recipeID);\n      this.recipe = response.data;\n\n      console.log(response);\n      if (!response.data) {\n        console.log('No recipe');\n        this.recipe = {\n          title: 'Recipe Not Found',\n          description: 'The recipe you requested may have been deleted by it\\'s owner.'\n        }\n      }\n    },\n    getRecipeImage() {\n      return this.recipe.image;\n    },\n    async addToMyRecipes() {\n      this.errorMessage = null;\n      const recipeID = encodeURIComponent(this.$route.params.recipe);\n      const response = await RecipeService.addSharedRecipe(recipeID);\n\n      if (response.data.error === 'User not logged in') {\n        return this.errorMessage = 'Please login to save this recipe';\n      } \n\n      this.importedRecipeID = response.data.recipeID;\n    }\n  },\n  created() {\n    this.retrieveRecipe();\n  },\n  beforeCreate() {\n    document.body.className = 'share';\n  }\n}\n</script>\n\n<style lang=\"scss\">\n#share {\n  background: linear-gradient(45deg, #6100ff 0%, #74d2ff 100%);\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  #share-container {\n    width: 600px;\n    margin: 0 auto;\n    border-radius: 3px;\n    max-height: 80%;\n    overflow-y: auto;\n  }\n\n  .actions {\n    margin-bottom: 20px;\n    text-align: left;\n\n    .icon {\n      height: 30px;\n      width: 30px;\n      margin-right: 6px;\n    }\n\n    .add {\n      color: #fff;\n      display: inline-block;\n      background-color: #e4ad3e;\n      padding: 12px 60px 12px 20px;\n      background-image: url(../assets/arrow-long.png);\n      background-repeat: no-repeat;\n      background-position: right 20px center;\n      box-shadow: rgba(0, 0, 0, 0.298039) 0px 1px 3px 0px;\n      cursor: pointer;\n\n      &:hover {\n        background-color: #089de3;\n      }\n    }\n\n    .added-block,\n    .error-message {\n      display: flex;\n      align-items: center;\n      font-weight: bold;\n      padding: 10px;\n\n      a:hover {\n        text-decoration: none;\n      }\n    }\n\n    .added-block {\n      background-color: #b0f8b0;\n      color: #04a41f;\n      margin-top: 3px;\n\n      .recipe-added-link {\n        margin-left: 10px;\n        color: #14a2bc;\n      }\n    }\n\n    .error-message {\n      color: #ff0000;\n      background-color: #ffd1d0;\n      margin-top: 12px;\n\n      a {\n        color: #ff0000;\n      }\n    }\n  }\n\n  .panel {\n    border-radius: 3px;\n    padding: 20px;\n    text-align: left;\n    background-color: #fff;\n    box-shadow: rgba(0, 0, 0, 0.298039) 0px 1px 3px 0px;\n\n    .title {\n      line-height: 30px;\n      font-size: 24px;\n      margin-bottom: 12px;\n      text-align: center;\n    }\n\n    .description,\n    .url {\n      margin-bottom: 20px;\n    }\n\n    .url {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n\n      a {\n        color: #14aaf5;\n        font-size: 14px;\n      }\n    }\n\n    .description {\n      font-size: 16px;\n      line-height: 20px;\n\n      ol,\n      ul {\n        padding-left: 40px;\n        margin: 15px 0;\n        list-style-type: initial;\n      }\n\n      ol {\n        list-style-type: decimal;\n      }\n\n      li {\n        margin-bottom: 2px;\n      }\n\n      strong {\n        font-weight: 600;\n      }\n\n      em {\n        font-style: italic;\n      }\n    }\n\n    .image {\n      border-radius: 5px;\n      box-shadow: 0 0 2px rgba(0, 0, 0, 0.12), 0 2px 2px rgba(0, 0, 0, 0.24);\n      margin-bottom: 20px;\n      height: 285px;\n      width: 285px;\n      object-fit: cover;\n    }\n  }\n}\n\n@media (max-width: 767px) {\n  #share {\n    padding: 10px;\n\n    #share-container {\n      width: 100%;\n    }\n\n    .panel {\n      .image {\n        height: 100%;\n        width: 100%;\n      }\n    }\n  }\n}\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Share.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Share.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Share.vue?vue&type=template&id=6cd506b6&\"\nimport script from \"./Share.vue?vue&type=script&lang=js&\"\nexport * from \"./Share.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Share.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Share.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Share.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}